---
title: "LR2"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Исследование сетевых параметров публичных DNS серверов

## Цель

Проанализировать сетевые параметры публичных DNS серверов, сделать мотивированный вывод о предпочтительных серверах

### Исходные данные

1. Ноутбук с macOS Catalina

### Решения задачи

1. Решить задачу на Linux (с помощью утилиты tracerout)

## ️Общий план выполнения

1. По исследуемым серверам собрать следующие данные:
-маршрут
-местоположение каждого узла маршрута к DNS-серверу
-организацию, владеющую каждым узлом маршрута к DNS-серверу
-среднюю RTT (round trip time) к DNS-серверу
2. Выделить те узлы маршрута, которые вносят наибольшую временную задержку при передаче
3. Сравнить сетевые параметры DNS серверов

## Исследуемые провайдеры DNS

1. Google Public DNS
2. Cloudflare DNS
3. OpenDNS
4. DNS вашего провайдера

## Содержание ЛР

Google Public DNS

```{r cache=TRUE}
system("traceroute 8.8.8.8", intern = TRUE)
```

| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1|  * | * | * | Request timed out.|
| 2|    4 ms|   3 ms|   3 ms|  10.137.0.1|Москва|МГТС|0,7||
| 3|    9 ms|    4 ms|    4 ms| 10.215.240.105|Москва|МГТС|0,7||
| 4| 16 ms| 7 ms| 39 ms| 77.94.162.77|Москва|Наука-Связь|20,7|+|
| 5| 2 ms| 1 ms| 2 ms| ae3-nostromo-mtt-msk.naukanet.ru [77.94.160.52]|Москва|Наука-Связь|1,7||
| 6| 13 ms| 7 ms| 11 ms| 209.85.148.20|USA|Google LLC|10,3||
| 7| 19 ms| 30 ms| 3 ms| 108.170.250.66|Mountain View, USA|Google LLC|17,3||
| 8| 20 ms| 22 ms| 24 ms| 209.85.255.136|USA|Google LLC|22|+|
| 9| 17 ms| 17 ms| 17 ms| 216.239.54.50|USA|Google LLC|17||
| 10| * | * | * | Request timed out.|
| 11| * | * | * | Request timed out.|
| 12| * | * | * | Request timed out.|
| 13| * | * | * | Request timed out.|
| 14| * | * | * | Request timed out.|
| 15| * | * | * | Request timed out.|
| 16| * | * | * | Request timed out.|
| 17| * | * | * | Request timed out.|
| 18| * | * | * | Request timed out.|
| 19| 18 ms| 17 ms| 20 ms| dns.google [8.8.8.8]|Нью-Йорк, USA|Google LLC|18,3|+|

Cloudflare DNS

```{r cache=TRUE}
system("traceroute 1.1.1.1", intern = TRUE)
```

| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1|  * | * | * | Request timed out.|
| 2|    4 ms|   3 ms|   3 ms|  10.137.0.1|Москва|МГТС|0,7||
| 3|    9 ms|    4 ms|    4 ms| 10.215.240.105|Москва|МГТС|0,7||
| 4| 18 ms| 32 ms| 1 ms| gptel145.cln.net [79.98.8.145]|Москва|CLN|17|+|
| 5| 2 ms| 2 ms| 12 ms| jun0-mr-vl7.cln.net [79.98.8.254]|Москва|CLN|5,3||
| 6| 20 ms| 20 ms| 20 ms| netnod-ix-ge-a-sth-1500.cloudflare.com [194.68.123.246]|Borgholm, Sweden|Stockholm Interconnect GigEth|20|+|
| 7| 19 ms| 21 ms| 21 ms| one.one.one.one [1.1.1.1]| Research, Australia| Cloudflare DNS|20,3|+|

OpenDNS

```{r cache=TRUE}
system("traceroute 208.67.220.220", intern = TRUE)
```


| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1|  * | * | * | Request timed out.|
| 2|    4 ms|   3 ms|   3 ms|  10.137.0.1|Москва|МГТС|0,7||
| 3|    9 ms|    4 ms|    4 ms| 10.215.240.105|Москва|МГТС|0,7||
| 4|    1 ms|    1 ms|    1 ms| gptel145.cln.net [79.98.8.145]|Москва|CLN|1||
| 5|    4 ms|    3 ms|    3 ms| jun0-mr-vl7.cln.net [79.98.8.254]|Москва|CLN|3,3||
| 6|   4 ms|     2 ms|    7 ms| ae11-747.RT.MR.MSK.RU.retn.net [87.245.253.18]|Москва|ReTN external interconnections in Moscow|4,3||
| 7|   42 ms|   43 ms|   39 ms| ae3-8.RT.TC2.AMS.NL.retn.net [87.245.233.17]|Москва|Grand Prix Telecom|41,3|+|
| 8|   57 ms|   57 ms|   57 ms| peer1.rtr1.ams.opendns.com [80.249.208.88]|	Amsterdam|AMS-IX Amsterdam IPv4 Peering (ISP) LAN|57|+|
| 9|   57 ms|   57 ms|   57 ms| resolver2.opendns.com [208.67.220.220]|San Francisco|Cisco OpenDNS, LLC|57|+|



```{r cache=TRUE}
system("traceroute 62.112.113.170", intern = TRUE)
```


| № |Первый ping|Второй ping|Третий ping|Узел|Месторасположение| Организация| Средняя RTT| Вносит наибольшую временную задержку при передаче|
|:-:|:---------:|:---------:|:---------:|:--:|:---------------:|:----------:|:----------:|:------------------------------------------------:|
| 1|  * | * | * | Request timed out.|
| 2|    4 ms|   3 ms|   3 ms|  10.137.0.1|Москва|МГТС|0,7||
| 3|    9 ms|    4 ms|    4 ms| 10.215.240.105|Москва|МГТС|0,7||
| 4| * | * | * | Request timed out.|
| 5|    1 ms|    1 ms|    1 ms| 10.215.240.109|Москва|МГТС|1|+|
| 6| * | * | * | Request timed out.|
| 7|    1 ms|    1 ms|    1 ms| 62.112.113.170|Москва|МГТС|1|+|

Красный - Google Public DNS. Зеленый - Cloudflare. DNS Синий - OpenDNS. Черный - МГТС.

```{r, echo=FALSE}
xt <- c(0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58)
yh <- c(0,0.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,14.5)
xx <- c(3.3,1.8,16,20.7,1.7,10.3,17.3,22,17,18.3)
yy <- c(1,2,3,4,5,6,7,8,9,10)
xxx <- c(1,0.7,1.7,17,5.3,20,20.3)
yyy <- c(1,2,3,4,5,6,7)
xxxx <- c(0.5,1,5,1,3.3,4.3,41.3,45,47)
yyyy <- c(1,2,3,4,5,6,7,8,9)
xxxxx <- c(1.7,0.7,1,1)
yyyyy <- c(1,2,3,4)
plot(yh,xt, main = "Сравнительная диаграмма RTT к серверам", xlab = "Шаг", ylab = "RTT",type = "n")
points(yy,xx,col = "red3")
lines(yy,xx,col = "red3")
points(yyy,xxx,col = "forestgreen")
lines(yyy,xxx,col = "forestgreen")
points(yyyy,xxxx,col = "steelblue")
lines(yyyy,xxxx,col = "steelblue")
points(yyyyy,xxxxx)
lines(yyyyy,xxxxx)
```


## ️Вывод 
Желательно выбирать наиболее быстрые DNS для комфортной работе в интернете
